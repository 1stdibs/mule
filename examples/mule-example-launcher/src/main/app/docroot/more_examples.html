<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>Mule ESB - Examples</title>

    <link rel="icon" href="/images/favicon.ico" type="image/x-icon"/>

    <link type="text/css" href="css/smoothness/jquery-ui-1.8.6.custom.css" rel="stylesheet" />
    <link type="text/css" href="css/style.css" rel="stylesheet" media="all"/>

    <script type="text/javascript" src="js/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui-1.8.6.custom.min.js"></script>

    <!-- stripped down version of dojo that just includes the peices necessary for cometd -->
    <script type="text/javascript" src="mule-resource/js/dojo/dojo.js"></script>
    <script type="text/javascript" src="mule-resource/js/_mule.js"></script>
    <script type="text/javascript" src="js/launcher.js"></script>

    <script type="text/javascript">

    function displayMenu()
    {
        jQuery.get('/examples/menu.html', 'script',
            function(data, textStatus, xmlHttpRequest)
            {
                $("#examples-menu").html(data);
            });
    }

    function displayExamples() {
        var data = new Object();
        data.url = "http://localhost:18083/list";
        data.method = 'GET';
        mule.rpc("/examples/ajaxproxy", data, rpcGetExamplesList);
    }

    function rpcGetExamplesList(message) {
        $("#examples-list").html(getJsonResponse(message.data));
    }

    function downloadAndDeployExample(exampleUrl) {
        var data = new Object();
        data.url = "http://localhost:18083/download?url=" + exampleUrl;
        data.method = 'GET';
        mule.rpc("/examples/ajaxproxy", data, rpcDownloadAndDeployExample);
    }

    function rpcDownloadAndDeployExample(message) {
    	alert("Example downloaded and deploying...");
    }
    
    function initMoreExamples()
    {
        displayMenu();
        displayExamples();
    }
    </script>

</head>

<body id="demos" onload="javascript:initMoreExamples()">
<!--[if IE 5]>
<div id="ie5" class="ie"><![endif]-->
<!--[if IE 6]>
<div id="ie6" class="ie"><![endif]-->
<!--[if IE 7]>
<div id="ie7" class="ie"><![endif]-->

<!-- START WRAPPER -->
<div id="wrapper">
    <!-- START HEADER -->
    <div id='banner'>
        <!-- Including common header -->
        <!--<script type="text/javascript" src="scripts/header.js"/>-->
        <h1 class="logo">
            <a href="index.html" title="MuleSoft"><span>MuleSoft</span></a>
        </h1>

        <div id="dock">

        </div>
    </div>
    <!-- END HEADER -->
    
    <!-- START BODY -->
    <div id="content-wrapper">
        <!-- START CONTENT -->
        <div id="content">
            <div class="content-top"></div>
            <div class="content">
                <div class="content-body">
                    <table cellspacing="0" cellpadding="0" class="layout-grid">
                        <tr>
                            <td>


                                <table class="layout-grid" cellspacing="0" cellpadding="0">
                                    <tr>
                                        <!-- START MENU -->
                                        <td class="left-nav">
                                            <div id='examples-menu' nowrap="nowrap"></div>
                                        </td>
                                        <!-- END MENU -->
                                        
                                        <!-- START CONTENT PANEL -->
                                        <td class="normal">
                                            <div id="examples-content-panel">
                                                <div id="demo-header">
                                                    <h2>Mule Examples Catalog</h2>
                                                    <h4>Download and deploy your favourite example</h4>
                                                </div>
                                                <div style="position: absolute; right: 27px" id="switcher"></div>
                                                <div id="demo-config">
                                                    <div id="demo-frame-wrapper">
                                                        <div id="demo-frame">
                                                            <div class="demo">                                                
                                                				<div id="examples-list">
                                                				<p>Please wait. Loading examples...</p>
                                                				</div>
                                                			</div>
                                                		</div>
                                                	</div>
                                                </div>
                                            </div>
                                        </td>
                                        <!-- END CONTENT PANEL -->
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <!-- END CONTENT -->
    </div>
    <!-- END BODY -->
    <!-- START FOOTER -->
    <div id="footer">
        <div class="bg"></div>
        <div class="inner">
            <ul>
                <li><a href="http://www.mulesoft.org/documentation/display/MULE3EXAMPLES/Home">Documentation</a></li>
                <li><a href="http://forums.mulesoft.org/index.jspa">Forums</a></li>
                <li><a href="mailto:info@mulesoft.com">Email Us</a></li>
            </ul>
        </div>
    </div>
    <!-- END FOOTER -->
<!-- END WRAPPER -->
</div>
<!--[if lte IE 7]></div><![endif]-->

</body>

</html>
