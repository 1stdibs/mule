<script type="text/javascript">

var urlPrefix = "http://localhost:48309/stockquote";

function doGetQuote() {
    var data = new Object();
    data.url = urlPrefix + '?symbol=' + escape(document.getQuoteForm.symbol.value) + '&method=' + escape(getCheckedValue(document.getQuoteForm.method));
    data.method = 'GET';
    mule.rpc("/examples/ajaxproxy", data, rpcGetQuoteResponse);
}

function rpcGetQuoteResponse(message) {
	$("#response-output").html(getJsonResponse(message.data));

}

</script>
<p><b>Instructions:</b></p>
<p>Enter stock symbol and preferred method and press <b>Get Quote</b>.</p>

<form name="getQuoteForm" id="getQuoteForm" action="">
	<table cellspacing="2px" cellpadding="1px" border="0">
	<tr>
	    <td align="right" class="formLabel" valign="middle">Enter Symbol:</td>
	    <td nowrap="nowrap" valign="middle">
		    <input type="text" name="symbol" value="IBM">
	    </td>
	    <td align="right" class="formLabel" valign="middle">Select Method:</td>
	    <td nowrap="nowrap" valign="middle">
		    <input type="radio" name="method" value="REST" checked="checked">REST
		    <input type="radio" name="method" value="SOAP">SOAP
		    <input type="radio" name="method" value="WSDL">WSDL
	    </td>
	    <td valign="middle"><input type="button" value="Get Quote" onclick="doGetQuote();"></td>
	</tr>
	</table>
</form>

<p><b>Response:</b></p>
<div id="response-output" class='response'></div>

<p><b>Additional Information:</b></p>
<p>
You can also consume this service by directly calling the HTTP endpoint, opening a URL such as <a
    href="http://localhost:48309/stockquote?symbol=IBM&method=REST"
    target="_blank">http://localhost:48309/stockquote?symbol=IBM&method=REST</a>, selected another symbol or method.
</p>
<p>    
    Complete documentation for this example can be found <a
    href="http://www.mulesoft.org/documentation/display/MULE3INTRO/Stock+Quote+Example"
    target="_blank">here</a>.
</p>
