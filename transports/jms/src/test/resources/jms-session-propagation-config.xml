<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:jms="http://www.mulesoft.org/schema/mule/jms" xmlns="http://www.mulesoft.org/schema/mule/core"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/jms http://www.mulesoft.org/schema/mule/jms/current/mule-jms.xsd
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">
    <jms:activemq-connector name="Active_MQ" specification="1.1" brokerURL="vm://localhost" validateConnections="true"/>

    <flow name="test-jms-session-requestresponseFlow2">
        <jms:inbound-endpoint queue="test" connector-ref="Active_MQ" exchange-pattern="request-response"/>
        <message-properties-transformer scope="session">
            <add-message-properties>
                <spring:entry key="test" value="test"/>
            </add-message-properties>
        </message-properties-transformer>
    </flow>
</mule>
