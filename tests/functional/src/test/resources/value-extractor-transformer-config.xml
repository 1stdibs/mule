<?xml version="1.0" encoding="UTF-8"?>
<mule xmlns="http://www.mulesoft.org/schema/mule/core"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="
          http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/3.2/mule.xsd">

    <value-extractor-transformer name="valueExtractor1" source="#[payload]">
        <extract pattern="TEST(\w+)TEST" target="#[header:INVOCATION:propName1]" failIfNoMatch="false"/>
        <extract pattern="test(\w+)test" target="#[header:OUTBOUND:propName2]"/>
    </value-extractor-transformer>

    <value-extractor-transformer name="valueExtractor2">
        <extract pattern="TEST(\w+)TEST" target="#[header:INVOCATION:propName1]" failIfNoMatch="false"/>
    </value-extractor-transformer>
</mule>
